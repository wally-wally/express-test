<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>
  <body>
    <div id="app">
      <h1>자동 페이지 이동 & 도메인 추가</h1>
      <div class="message">
        <p>여기서는 '도메인 추가' 테스트할 때 아래 항목들 중 하나를 입력해서 테스트해보세요.</p>
        <ul>
          <li>page03</li> <!-- views 폴더의 page03.ejs 템플릿 -->
          <li>https://www.youtube.com/embed//nRTbsPsazyc</li> <!-- 자이언트 펭TV '파맛 첵스' youtube 영상 주소 -->
        </ul>
      </div>
      <form id="timer-form">
        <label for="period">시간 주기 설정[s] <span>(필수)</span></label>
        <input type="number" min="1" max="5" id="period" required>
        <br>
        <label for="domain">도메인 추가 <span>(선택)</span></label>
        <input type="text" id="domain">
        <br>
        <button type="submit" id="start">시작</button>
      </form>
    </div>
    <script>
      const timerForm = document.querySelector('#timer-form');
      const period = document.querySelector('#period'); // 시간 주기
      const domain = document.querySelector('#domain'); // 추가할 도메인
      const startButton = document.querySelector('button#start'); // 시작 버튼
      let domains = ['page01', 'page02'];
  
      timerForm.addEventListener('submit', e => {
        e.preventDefault();
        if (domain.value) {
          domains.push(domain.value);
        }
        setData();
        location.href = '/monitor';
      });

      function setData() {
        sessionStorage.setItem('period', period.value);
        sessionStorage.setItem('domains', JSON.stringify(domains));
      }
    </script>
  </body>
</html>
